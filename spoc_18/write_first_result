reader_0            reader_1            reader_2            writer_0            writer_1            writer_2
init
lock
start reading
                                                            init
                                                            lock
                                                            wait
                    init
                    lock
                    wait
                                                                                init
                                                                                lock
                                                                                wait
                                                                                                    init
                                                                                                    lock
                                                                                                    wait
                                        init
                                        lock
                                        wait
end reading
                                                            start writing
                                                            end writing
                                                                                start writing
                                                                                end writing
                                                                                                    start writing
                                                                                                    end writing
                    start reading
                                        start reading
                    end reading
                                        end reading